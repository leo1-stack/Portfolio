<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TP13 - Images CP</title>
    <style>
        body { font-family: Arial, Helvetica, sans-serif; margin: 20px; }
    /* Make images even larger while keeping responsive behavior */
    /* Use a bigger minimum column width so each image takes more space on wide screens */
    .gallery { display: grid; grid-template-columns: repeat(auto-fit, minmax(480px, 1fr)); gap: 24px; align-items: start; }
    .card { border: 1px solid #e0e0e0; padding: 16px; border-radius: 10px; background: #fafafa; text-align: center; justify-self: stretch; }
    /* Increase max-height for much larger thumbnails; object-fit keeps aspect ratio */
    .card img { max-width: 100%; max-height: 600px; object-fit: contain; display: block; margin: 0 auto 14px; }
    .card p { margin: 0; font-size: 16px; color: #333; }
    /* Center the last image card in the grid when it's alone on the last row */
    .gallery .card:last-child { justify-self: center; }
    </style>
</head>
<body>
    <h1>Captures d'écrans tp13 et en bas de la page, sql.</h1>
    
    <section class="gallery" aria-label="Galerie cp images">
        <figure class="card">
            <img src="cp_utilisateurs.png" alt="cp utilisateurs">
            <p>cp_utilisateurs.png</p>
        </figure>
        <figure class="card">
            <img src="cp_res.png" alt="cp resultats">
            <p>cp_res.png</p>
        </figure>
        <figure class="card">
            <img src="cp_mise.png" alt="cp mise">
            <p>cp_mise.png</p>
        </figure>
        <figure class="card">
            <img src="cp_gain.png" alt="cp gain">
            <p>cp_gain.png</p>
        </figure>
        <figure class="card">
            <img src="cp_concepteur.png" alt="cp concepteur">
            <p>cp_concepteur.png</p>
        </figure>
        </section>

        <hr style="margin:24px 0;">
        <section aria-label="Fichier SQL">
                <h2>Base de données (fichier SQL)</h2>
                <p>Vous pouvez ouvrir ou télécharger le fichier SQL :
                        <a href="paris_sportifs_db.sql" download>Ouvrir / Télécharger paris_sportifs_db.sql</a>
                </p>

                <details style="margin-top:12px;">
                        <summary style="cursor:pointer;">Voir le contenu du fichier SQL</summary>
                        <pre style="white-space:pre-wrap; background:#f6f6f6; padding:12px; border-radius:6px; overflow:auto; max-height:480px;">
-- phpMyAdmin SQL Dump
-- version 5.2.3
-- https://www.phpmyadmin.net/
--
-- Hôte : localhost
-- Généré le : mar. 18 nov. 2025 à 10:59
-- Version du serveur : 8.0.44
-- Version de PHP : 8.2.29

SET SQL_MODE = "NO_AUTO_VALUE_ON_ZERO";
START TRANSACTION;
SET time_zone = "+00:00";


/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8mb4 */;

--
-- Base de données : `paris_sportifs_db`
--

-- --------------------------------------------------------

--
-- Structure de la table `gain`
--

CREATE TABLE `gain` (
    `id_gain` int NOT NULL,
    `id_pari` int DEFAULT NULL,
    `montant_gain` decimal(6,2) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

--
-- Déchargement des données de la table `gain`
--

INSERT INTO `gain` (`id_gain`, `id_pari`, `montant_gain`) VALUES
(1, 1, 35.00),
(2, 2, 0.00),
(3, 3, 0.00);

-- --------------------------------------------------------

--
-- Structure de la table `matchs`
--

CREATE TABLE `matchs` (
    `id_match` int NOT NULL,
    `equipe_dom` varchar(50) COLLATE utf8mb4_general_ci NOT NULL,
    `equipe_ext` varchar(50) COLLATE utf8mb4_general_ci NOT NULL,
    `date_match` datetime NOT NULL,
    `id_sport` int DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

--
-- Déchargement des données de la table `matchs`
--

INSERT INTO `matchs` (`id_match`, `equipe_dom`, `equipe_ext`, `date_match`, `id_sport`) VALUES
(1, 'PSG', 'OM', '2024-05-20 21:00:00', 1),
(2, 'Lakers', 'Bulls', '2024-06-10 19:00:00', 2),
(3, 'Nadal', 'Federer', '2024-07-05 15:00:00', 3);

-- --------------------------------------------------------

--
-- Structure de la table `pari`
--

CREATE TABLE `pari` (
    `id_pari` int NOT NULL,
    `id_user` int DEFAULT NULL,
    `id_match` int DEFAULT NULL,
    `id_typepari` int DEFAULT NULL,
    `mise` decimal(6,2) NOT NULL,
    `choix` varchar(50) COLLATE utf8mb4_general_ci NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

--
-- Déchargement des données de la table `pari`
--

INSERT INTO `pari` (`id_pari`, `id_user`, `id_match`, `id_typepari`, `mise`, `choix`) VALUES
(1, 1, 1, 1, 20.00, 'PSG'),
(2, 2, 2, 2, 15.00, 'Plus de 100 points'),
(3, 3, 3, 3, 10.00, '3 sets à 1');

-- --------------------------------------------------------

--
-- Structure de la table `sport`
--

CREATE TABLE `sport` (
    `id_sport` int NOT NULL,
    `nom_sport` varchar(50) COLLATE utf8mb4_general_ci NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

--
-- Déchargement des données de la table `sport`
--

INSERT INTO `sport` (`id_sport`, `nom_sport`) VALUES
(1, 'Football'),
(2, 'Basketball'),
(3, 'Tennis');

-- --------------------------------------------------------

--
-- Structure de la table `typepari`
--

CREATE TABLE `typepari` (
    `id_typepari` int NOT NULL,
    `description` varchar(100) COLLATE utf8mb4_general_ci NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

--
-- Déchargement des données de la table `typepari`
--

INSERT INTO `typepari` (`id_typepari`, `description`) VALUES
(1, 'Vainqueur du match'),
(2, 'Nombre de buts/points'),
(3, 'Score exact');

-- --------------------------------------------------------

--
-- Structure de la table `utilisateur`
--

CREATE TABLE `utilisateur` (
    `id_user` int NOT NULL,
    `nom` varchar(50) COLLATE utf8mb4_general_ci NOT NULL,
    `prenom` varchar(50) COLLATE utf8mb4_general_ci NOT NULL,
    `email` varchar(100) COLLATE utf8mb4_general_ci DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

--
-- Déchargement des données de la table `utilisateur`
--

INSERT INTO `utilisateur` (`id_user`, `nom`, `prenom`, `email`) VALUES
(1, 'Dupont', 'Marc', 'marc.dupont@email.com'),
(2, 'Lopez', 'Sara', 'sara.lopez@email.com'),
(3, 'Idrissi', 'Karim', 'karim.idrissi@email.com');

-- --------------------------------------------------------

--
-- Index pour les tables déchargées
--

--
-- Index pour la table `gain`
--
ALTER TABLE `gain`
    ADD PRIMARY KEY (`id_gain`),
    ADD KEY `id_pari` (`id_pari`);

--
-- Index pour la table `matchs`
--
ALTER TABLE `matchs`
    ADD PRIMARY KEY (`id_match`),
    ADD KEY `id_sport` (`id_sport`);

--
-- Index pour la table `pari`
--
ALTER TABLE `pari`
    ADD PRIMARY KEY (`id_pari`),
    ADD KEY `id_user` (`id_user`),
    ADD KEY `id_match` (`id_match`),
    ADD KEY `id_typepari` (`id_typepari`);

--
-- Index pour la table `sport`
--
ALTER TABLE `sport`
    ADD PRIMARY KEY (`id_sport`);

--
-- Index pour la table `typepari`
--
ALTER TABLE `typepari`
    ADD PRIMARY KEY (`id_typepari`);

--
-- Index pour la table `utilisateur`
--
ALTER TABLE `utilisateur`
    ADD PRIMARY KEY (`id_user`),
    ADD UNIQUE KEY `email` (`email`);

--
-- AUTO_INCREMENT pour les tables déchargées
--

--
-- AUTO_INCREMENT pour la table `gain`
--
ALTER TABLE `gain`
    MODIFY `id_gain` int NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=4;

--
-- AUTO_INCREMENT pour la table `matchs`
--
ALTER TABLE `matchs`
    MODIFY `id_match` int NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=4;

--
-- AUTO_INCREMENT pour la table `pari`
--
ALTER TABLE `pari`
    MODIFY `id_pari` int NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=4;

--
-- AUTO_INCREMENT pour la table `sport`
--
ALTER TABLE `sport`
    MODIFY `id_sport` int NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=4;

--
-- AUTO_INCREMENT pour la table `typepari`
--
ALTER TABLE `typepari`
    MODIFY `id_typepari` int NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=4;

--
-- AUTO_INCREMENT pour la table `utilisateur`
--
ALTER TABLE `utilisateur`
    MODIFY `id_user` int NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=4;

--
-- Contraintes pour les tables déchargées
--

--
-- Contraintes pour la table `gain`
--
ALTER TABLE `gain`
    ADD CONSTRAINT `gain_ibfk_1` FOREIGN KEY (`id_pari`) REFERENCES `pari` (`id_pari`);

--
-- Contraintes pour la table `matchs`
--
ALTER TABLE `matchs`
    ADD CONSTRAINT `matchs_ibfk_1` FOREIGN KEY (`id_sport`) REFERENCES `sport` (`id_sport`);

--
-- Contraintes pour la table `pari`
--
ALTER TABLE `pari`
    ADD CONSTRAINT `pari_ibfk_1` FOREIGN KEY (`id_user`) REFERENCES `utilisateur` (`id_user`),
    ADD CONSTRAINT `pari_ibfk_2` FOREIGN KEY (`id_match`) REFERENCES `matchs` (`id_match`),
    ADD CONSTRAINT `pari_ibfk_3` FOREIGN KEY (`id_typepari`) REFERENCES `typepari` (`id_typepari`);
COMMIT;

/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;

                        </pre>
                </details>
        </section>
        <script>
        // Centre la dernière carte si elle est seule sur sa ligne
        (function() {
            const gallery = document.querySelector('.gallery');
            if (!gallery) return;
            const cards = Array.from(gallery.children);
            if (cards.length < 1) return;

            // attendre la mise en page
            window.addEventListener('load', checkAndCenter);
            window.addEventListener('resize', function() {
                // enlever styles appliqués précédemment
                const last = gallery.querySelector('.card.last-centered');
                if (last) {
                    last.style.gridColumn = '';
                    last.style.justifySelf = '';
                    const img = last.querySelector('img');
                    if (img) img.style.maxWidth = '';
                    last.classList.remove('last-centered');
                }
                // retester après resize
                checkAndCenter();
            });

            function checkAndCenter() {
                const cards = Array.from(gallery.children);
                if (cards.length < 2) return;
                const last = cards[cards.length - 1];
                const prev = cards[cards.length - 2];

                // comparer positions verticales
                const lastTop = last.getBoundingClientRect().top;
                const prevTop = prev.getBoundingClientRect().top;

                // si la dernière est sur une nouvelle ligne
                if (lastTop > prevTop) {
                    // compter combien d'éléments sont sur la même ligne que la dernière
                    const sameRow = cards.filter(c => c.getBoundingClientRect().top === lastTop);
                    if (sameRow.length === 1) {
                        // centrer la carte en la faisant occuper la ligne entière et centrer son contenu
                        last.style.gridColumn = '1 / -1';
                        last.style.justifySelf = 'center';
                        const img = last.querySelector('img');
                        if (img) img.style.maxWidth = '60%';
                        last.classList.add('last-centered');
                    }
                }
            }
        })();
    </script>
</body>
</html>